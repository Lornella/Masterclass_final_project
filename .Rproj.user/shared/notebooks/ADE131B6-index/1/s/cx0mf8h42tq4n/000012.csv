"0","vac_map_plotly <- merged_pop_cases_vacc %>%
  left_join(country_shapes, by = c(""country_code"" = ""adm0_a3"")) %>%
  plot_ly(
    type = 'choropleth',  
    locations = ~country_code, 
    z = ~vaccination_coverage_in_percent, 
    text = ~paste(country_name, "":"", vaccination_coverage_in_percent, ""% ("", year, "")""),
    frame = ~year,
    colorscale = color_scale,  
    colorbar = list(
      title = ""Vaccination Coverage (%)"",
      tickvals = c(0, 30, 60, 99),
      ticktext = c(""0"", ""30"", ""60"", ""99"")
    )
  ) %>%
  layout(
    title = ""Vaccination Coverage Over Time"",
    geo = list(
      showframe = FALSE,
      projection = list(type = 'natural earth')
    )
  ) %>%
  animation_opts(
    frame = 1000,  
    transition = 0, 
    easing = ""linear""
  ) %>%
  animation_slider(
    currentvalue = list(prefix = ""Year: "")
  )
"
"2","Avvertimento:"
"2"," Ignoring 525 observations
"
