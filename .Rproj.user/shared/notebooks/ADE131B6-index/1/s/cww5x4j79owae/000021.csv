"0","custum_color_scale <- list("
"0","  c(0, paste0(""rgb("", rgb_color_scale[1,1], "","", rgb_color_scale[2,1], "","", rgb_color_scale[3,1], "")"")),   "
"0","  c(0.3, paste0(""rgb("", rgb_color_scale[1,3], "","", rgb_color_scale[2,3], "","", rgb_color_scale[3,3], "")"")), "
"0","  c(0.6, paste0(""rgb("", rgb_color_scale[1,7], "","", rgb_color_scale[2,7], "","", rgb_color_scale[3,7], "")"")),     "
"0","  c(0.99, paste0(""rgb("", rgb_color_scale[1,11], "","", rgb_color_scale[2,11], "","", rgb_color_scale[3,11], "")""))     "
"0",")"
"0",""
"0","vac_map_animated_plotly <- merged_pop_cases_vacc %>%"
"0","  left_join(country_shapes, by = c(""country_code"" = ""adm0_a3"")) %>%"
"0","  plot_ly("
"0","    type = 'choropleth',  "
"0","    locations = ~country_code, "
"0","    z = ~vaccination_coverage_in_percent, "
"0","    text = ~paste(country_name, "":"", vaccination_coverage_in_percent, ""% ("", year, "")""),"
"0","    frame = ~year,"
"0","    colorscale = custum_color_scale,  "
"0","    marker = list(line = list(color = ""black"", width = 0.5)),"
"0","    colorbar = list("
"0","      title = ""Vaccination Coverage (%)"","
"0","      tickvals = c(0, 30, 60, 99),"
"0","      ticktext = c(""0"", ""30"", ""60"", ""99"")"
"0","    )"
"0","  ) %>%"
"0","  layout("
"0","    title = ""Vaccination Coverage Over Time"","
"0","    geo = list("
"0","      showframe = FALSE,"
"0","      projection = list(type = 'natural earth')"
"0","    )"
"0","  ) %>%"
"0","  animation_opts("
"0","    frame = 1000,  "
"0","    transition = 0, "
"0","    easing = ""linear"""
"0","  ) %>%"
"0","  animation_slider("
"0","    currentvalue = list(prefix = ""Year: "")"
"0","  )"
"2","Avvertimento:"
"2"," Ignoring 525 observations
"
